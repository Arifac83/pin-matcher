<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pin Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="pin-generator half-width">
                    <input class="form-control" type="text" id="pin-screen">
                    <button class="generate-btn" id="pin-generate">Generate Pin</button>
                </div>
            </div>
            <div class="col-md-6">
                <div class="input-section half-width">
                    <input class="form-control" type="text" id="screen">
                    <div class="numbers">
                        <div class="calc-body">
                            <div class="calc-button-row">
                                <div class="button button-number" id="b7">7</div>
                                <div class="button button-number" id="b8">8</div>
                                <div class="button button-number" id="b9">9</div>
                            </div>
                            <div class="calc-button-row">
                                <div class="button button-number" id="b4">4</div>
                                <div class="button button-number" id="b5">5</div>
                                <div class="button button-number" id="b6">6</div>
                            </div>
                            <div class="calc-button-row">
                                <div class="button button-number" id="b1">1</div>
                                <div class="button button-number" id="b2">2</div>
                                <div class="button button-number" id="b3">3</div>
                            </div>
                            <div class="calc-button-row">
                                <div class="button" id="button-backspace">
                                    <</div> <div class="button button-number" id="b0">0
                                </div>
                                <div id="button-clear" class="button">C</div>
                            </div>
                            <div>
                                <button type="submit" class="submit-btn" id="submit">Submit</button>
                                <p class="action-left" id="try-left">3 try left</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="notify-section">
                <p id="pinNotMatch" class="notify">❌ Pin Didn't Match, Please try again</p>
                <p id="pinMatch" class="notify">✅ Pin Matched... Secret door is opening for you</p>
            </div>

        </div>
        <script>
            let pinGenerate = document.getElementById("pin-generate");
            pinGenerate.addEventListener("click", function () {
                let pinNumber = document.getElementById("pin-screen");
                pinNumber.value = Math.floor(1000 + Math.random() * 9000);

                document.getElementById("pinNotMatch").style.display = "none";
                document.getElementById("pinMatch").style.display = "none";
                document.getElementById("submit").disabled = false;
                let count = 3;
                document.getElementById("try-left").innerText = count + " try left";

            });

            let button7 = document.getElementById("b7").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "7";
            });
            let button8 = document.getElementById("b8").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "8";
            });
            let button9 = document.getElementById("b9").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "9";
            });
            let button4 = document.getElementById("b4").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "4";
            });
            let button5 = document.getElementById("b5").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "5";
            });
            let button6 = document.getElementById("b6").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "6";
            });
            let button1 = document.getElementById("b1").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "1";
            });
            let button2 = document.getElementById("b2").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "2";
            });
            let button3 = document.getElementById("b3").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "3";
            });
            let button0 = document.getElementById("b0").addEventListener("click", function () {
                let buttonNumber = document.getElementById("screen");
                buttonNumber.value += "0";
            });

            let buttonClear = document.getElementById("button-clear").addEventListener("click", function () {
                let clearNumbers = document.getElementById("screen");
                clearNumbers.value = "";
            });
            let buttonBackSpace = document.getElementById("button-backspace").addEventListener("click", function () {
                let clearNumbers = document.getElementById("screen");
                clearNumbers.value = clearNumbers.value.slice(0, -1);
            });
            let count = 3;
            let buttonSubmit = document.getElementById("submit").addEventListener("click", function () {
                let screen = document.getElementById("screen");
                screen.value = document.getElementById("screen").value;
                let pinScreen = document.getElementById("pin-screen");
                pinScreen.value = document.getElementById("pin-screen").value;
                if (pinScreen.value == "") {
                    alert("Generate pin first");
                } else if (pinScreen.value != "" && screen.value == "") {
                    alert("Please Enter the 4 digit or pin Number.");
                } else if (pinScreen.value == screen.value) {
                    document.getElementById("pinMatch").style.display = "block";
                    document.getElementById("pinNotMatch").style.display = "none";
                    document.getElementById("pin-screen").value = "";
                } else if (pinScreen.value != screen.value) {
                    document.getElementById("pinNotMatch").style.display = "block";
                    document.getElementById("pinMatch").style.display = "none";

                    count--;
                    console.log(count);
                    if (count < 0) {
                        console.log(count);
                        document.getElementById("submit").disabled = true;
                    } else {
                        console.log(count);
                        document.getElementById("try-left").innerText = count + " try left";
                    }
                }
                document.getElementById("screen").value = "";

            });
        </script>
</body>

</html>